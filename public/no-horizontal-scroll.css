/* ===================================
   ANTI HORIZONTAL SCROLL ARTIFACTS
   Prevents unwanted horizontal scrolling
   on desktop, tablet, and mobile.
   =================================== */

/* === GLOBAL OVERFLOW PREVENTION === */
html {
  overflow-x: hidden;
  max-width: 100vw;
}

body {
  overflow-x: hidden;
  max-width: 100%;
  position: relative;
}

/* === MAIN CONTENT WRAPPER === */
main,
.page-content,
.content-wrapper {
  overflow-x: hidden;
  max-width: 100%;
}

/* === HEADER - MUST ALLOW BURGER MENU INTERACTION === */
/* DO NOT use overflow:hidden on header - it clips the burger menu */
.site-header,
header {
  overflow: visible;
  max-width: 100%;
  width: 100%;
}

.header-nav,
header nav {
  overflow: visible;
  max-width: 100%;
}

/* === HERO SECTIONS - NEVER HORIZONTAL SCROLL === */
#hero,
.hero-section,
[class*="hero"] {
  overflow-x: hidden;
  max-width: 100%;
  width: 100%;
}

.hero-video-container {
  overflow: hidden;
  max-width: 100%;
}

/* === CONTAINER CONSTRAINTS === */
.container {
  max-width: var(--container-max-width, 1200px);
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--spacing-md, 24px);
  padding-right: var(--spacing-md, 24px);
  box-sizing: border-box;
}

/* === SECTIONS - PREVENT OVERFLOW === */
section {
  overflow-x: hidden;
  max-width: 100%;
  width: 100%;
}

/* === IMAGES - PREVENT OVERFLOW === */
img {
  max-width: 100%;
  height: auto;
}

/* Images in containers should not cause overflow */
.container img,
section img {
  max-width: 100%;
}

/* === SCROLLABLE CONTAINERS (INTENTIONAL) === */
/* When horizontal scroll IS needed, background MUST be on the container */
.horizontal-scroll-container {
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  /* Background must be applied to THIS element, not parent */
  background: inherit;
}

/* Table wrappers that need horizontal scroll */
.table-wrapper,
.table-responsive {
  overflow-x: auto;
  overflow-y: visible;
  -webkit-overflow-scrolling: touch;
  /* Ensure background covers scroll area */
  background: var(--color-white, #fff);
  border-radius: var(--border-radius-md, 6px);
}

/* Code blocks that need horizontal scroll */
pre,
code {
  overflow-x: auto;
  max-width: 100%;
}

/* === MOBILE SPECIFIC === */
@media (max-width: 768px) {
  html,
  body {
    overflow-x: hidden;
    width: 100%;
    position: relative;
  }
  
  .container {
    padding-left: var(--spacing-sm, 16px);
    padding-right: var(--spacing-sm, 16px);
    max-width: 100%;
  }
  
  /* Prevent any element from causing horizontal scroll */
  * {
    max-width: 100vw;
  }
  
  /* Exception for explicitly scrollable containers */
  .horizontal-scroll-container,
  .table-wrapper,
  .table-responsive,
  pre,
  code {
    max-width: none;
  }
}

/* === TABLET SPECIFIC === */
@media (min-width: 769px) and (max-width: 1024px) {
  .container {
    padding-left: var(--spacing-md, 24px);
    padding-right: var(--spacing-md, 24px);
  }
}

/* === FULL-WIDTH SECTIONS WITH BACKGROUND === */
/* Sections that span full viewport but have internal container */
.full-width-section {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
  /* Background color/gradient on this element */
}

.full-width-section > .container {
  max-width: var(--container-max-width, 1200px);
  margin: 0 auto;
}

/* === VIDEO BACKGROUNDS === */
.video-background,
.hero-video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  /* Never cause overflow */
  max-width: none;
}

/* === GRID LAYOUTS === */
.grid,
[class*="grid-"] {
  max-width: 100%;
  overflow-x: hidden;
}

/* === FLEX LAYOUTS === */
.flex-container,
[class*="flex-"] {
  max-width: 100%;
  flex-wrap: wrap; /* Prevent single-row overflow */
}

/* === NAV LINKS ON MOBILE === */
@media (max-width: 768px) {
  .nav-links {
    /* Full-screen overlay has its own background */
    overflow-x: hidden;
    width: 100%;
  }
  
  .nav-links.active {
    /* Mobile menu overlay */
    overflow-y: auto;
    overflow-x: hidden;
  }
}

/* === DEBUG: Highlight horizontal overflow (dev only) === */
/*
.debug-overflow * {
  outline: 1px solid red;
}
*/
